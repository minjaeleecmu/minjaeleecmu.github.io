{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["IS_MOBILE","window","screen","width","IN_IFRAME","self","top","SCREEN_WIDTH","SCREEN_HEIGHT","HOTSPOT","SVG_SHAPE","D","VIEWBOX","hasValidMetadata","node","metadata","hasValidAction","action","hasValidGeometry","geometry","hasValidIcon","icon","name","hasValidMediaIndex","mediaIndex","hasValidText","text","hasValidSvg","svg","recomputeGeometry","element","screenWidth","screenHeight","relative","relativeCoordinateList","scaleX","scaleY","invertX","invertY","invertW","invertH","type","positionX","position","x","positionY","y","radiusX","radius","radiusY","includes","height","styles","absolutePositionContainer","soundContainer","left","bottom","soundLottie","sound","opacity","soundIconContainer","alignItems","justifyContent","soundIcon","padding","Player","props","onLottieAnimationEnd","setState","effects_prefix","removeControls","iframes","document","getElementsByTagName","i","length","console","log","innerDocument","contentWindow","contentDocument","videos","removeAttribute","state","index","muted","stackIndex","nodeIndex","this","push","interaction","triggerEffects","prefix","gotoNode","pop","color","size","font","alignment","fontFamily","fontSize","style","textAlign","overlayIndices","map","key","overlay","visionData","overlays","hasIcon","hasText","hasView","view","hasValidView","hasOpacity","hasResizeMode","resizeMode","media","uri","src","objectFit","iconSize","Math","min","display","renderIcon","hasTextAlignment","hasFontFamily","renderText","hasBackgroundColor","backgroundColor","borderRadius","sizeX","sizeY","containerWidth","containerHeight","scale","showContainer","innerColor","textAlignment","nodes","interactionIndices","item","nodeIndices","interactions","hasColor","hasImage","hotspotColor","renderHotspot","opacity1","opacity2","innerOpacity","svgStyles","iconTextStyles","isLeftSwipe","onClick","handleInteraction","renderHotspotIcon","renderHotspotImage","renderHotspotText","x2","y2","x3","viewBox","points","x1","fill","y1","sqrt","y3","x4","x5","y5","x6","y6","d","toString","soundIndex","audio","repeat","autoPlay","playsInline","webkit-playsinline","playsinline","options","animationData","require","loop","rendererSettings","onPressToggleMute","id","ref","video","effects","effects_width","effects_height","eventListeners","eventName","callback","renderMedia","renderSound","renderOverlays","renderHotspots","flexDirection","onPressBack","load","playerjs","HTML5Adapter","ready","React","Component","App","invert","invertSize","relativeCoordinateSystem","mixedCoordinateSystem","arrowBody","arrowHeadLeft","arrowHeadRight","strokeWidth","isArrowBodyX1Relative","isArrowBodyY1Relative","isArrowBodyX2Relative","isArrowBodyY2Relative","isArrowHeadLeftX1Relative","isArrowHeadLeftY1Relative","isArrowHeadLeftX2Relative","isArrowHeadLeftY2Relative","isArrowHeadRightX1Relative","isArrowHeadRightY1Relative","isArrowHeadRightX2Relative","isArrowHeadRightY2Relative","animation","newAnimation","positions","j","isXRelative","isYRelative","animationPositionX","animationPositionY","recomputeCoordinates","topHeight","bottomHeight","className","overflow","paddingTop","href","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.cf868178.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport Lottie from \"react-lottie\";\nimport playerjs from \"player.js\";\nimport Icon from \"react-web-vector-icons\";\n\nconst IS_MOBILE = window.screen.width < 767;\nconst IN_IFRAME = window.self !== window.top;\nconst MOBILE_MULTIPLIER = 0.7;\nconst SCREEN_WIDTH = 375 * ((IS_MOBILE || IN_IFRAME) ? MOBILE_MULTIPLIER : 1);\nconst SCREEN_HEIGHT = (667 - 49) * ((IS_MOBILE || IN_IFRAME) ? MOBILE_MULTIPLIER : 1);\n\nconst FONT_SIZE_MULTIPLIER = 0.8;\nconst HOTSPOT_RECTANGLE_BORDER_RADIUS = 10;\nconst HOTSPOT =\n{\n\tINNER_COLOR: \"black\",\n\tCONTAINER_COLOR: \"white\",\n\tCONTAINER_SIZE: 40,\n\tICON_SIZE: 20\n};\n\nconst DEFAULT_OVERLAY_OPACITY = 1;\nconst DEFAULT_HOTSPOT_OPACITY = 0.5;\nconst DEFAULT_HOTSPOT_CONTENT_OPACITY = 1;\n\nconst SVG_SHAPE =\n{\n\tSPEECH_BUBBLE_ELLIPSE_LEFT:\n\t{\n\t\tD: \"m256 21.952c-141.163 0-256 95.424-256 212.715 0 60.267 30.805 117.291 84.885 157.717l-41.109 82.219c-2.176 4.331-1.131 9.579 2.496 12.779 2.005 1.771 4.501 2.667 7.04 2.667 2.069 0 4.139-.597 5.952-1.813l89.963-60.395c33.899 12.949 69.803 19.52 106.773 19.52 141.163 0 256-95.424 256-212.715s-114.837-212.694-256-212.694z\",\n\t\tVIEWBOX: \"0 0 512 512\"\n\t},\n\tSPEECH_BUBBLE_RECTANGLE_LEFT:\n\t{\n\t\tD: \"m437.333 21.355h-362.666c-41.174 0-74.667 33.493-74.667 74.666v213.333c0 41.173 33.493 74.667 74.667 74.667h48.256l-36.821 92.032c-1.771 4.395-.405 9.429 3.328 12.352 1.92 1.515 4.245 2.283 6.592 2.283 2.176 0 4.352-.661 6.208-1.984l146.56-104.683h188.587c41.173 0 74.667-33.493 74.667-74.667v-213.333c-.044-41.173-33.537-74.666-74.711-74.666z\",\n\t\tVIEWBOX: \"0 0 512.043 512.043\"\n\t}\n};\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n// JSON format verifiers\n////////////////////////////////////////////////////////////////////////////////////////////////////\nexport const hasValidMetadata = (node) =>\n{\n\treturn typeof node.metadata !== \"undefined\";\n};\n\nexport const hasValidAction = (node) =>\n{\n\treturn typeof node.metadata.action !== \"undefined\";\n};\n\nexport const hasValidAnimation = (node) =>\n{\n\treturn typeof node.metadata.animation !== \"undefined\";\n};\n\nexport const hasValidGeometry = (node) =>\n{\n\treturn typeof node.metadata.geometry !== \"undefined\";\n};\n\nexport const hasValidIcon = (node) =>\n{\n\treturn typeof node.metadata.icon !== \"undefined\" && node.metadata.icon.name != \"\";\n};\n\nexport const hasValidInteractionIndices = (node) =>\n{\n\treturn typeof node.metadata.interactionIndices !== \"undefined\";\n};\n\nexport const hasValidMediaIndex = (node) =>\n{\n\treturn typeof node.metadata.mediaIndex !== \"undefined\" && node.metadata.mediaIndex >= 0;\n};\n\nexport const hasValidOverlayIndices = (node) =>\n{\n\treturn typeof node.metadata.overlayIndices !== \"undefined\";\n};\n\nexport const hasValidText = (node) =>\n{\n\treturn typeof node.metadata.text !== \"undefined\" && typeof node.metadata.text.text !== \"undefined\" &&\n\t\tnode.metadata.text.text != \"\";\n};\n\nexport const hasValidSvg = (node) =>\n{\n\treturn typeof node.metadata.svg !== \"undefined\";\n};\n\nexport const hasValidView = (node) =>\n{\n\treturn typeof node.metadata.view !== \"undefined\";\n};\n\nexport const hasValidVideoStartTime = (node) =>\n{\n\treturn typeof node.metadata.videoStartTime !== \"undefined\" && node.metadata.videoStartTime >= 0;\n};\n\nexport const hasValidVideoStartTimeOfParent = (node) =>\n{\n\treturn typeof node.metadata.videoStartTimeOfParent !== \"undefined\" && node.metadata.videoStartTimeOfParent >= 0;\n};\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n// JSON coordinate adjustments based on window dimension\n////////////////////////////////////////////////////////////////////////////////////////////////////\nconst recomputeGeometry = (element, screenWidth, screenHeight, relative, relativeCoordinateList, scaleX, scaleY,\n\tinvertX, invertY, invertW, invertH) =>\n{\n\tif(element.metadata.geometry.type == \"ellipse\")\n\t{\n\t\tlet positionX = element.metadata.geometry.position.x;\n\t\tlet positionY = element.metadata.geometry.position.y;\n\t\tlet radiusX = element.metadata.geometry.radius.x;\n\t\tlet radiusY = element.metadata.geometry.radius.y;\n\n\t\tif(relative || relativeCoordinateList.includes(\"geometry.position.x\")) positionX *= scaleX;\n\t\telse if(invertX) positionX = screenWidth - positionX;\n\t\tif(relative || relativeCoordinateList.includes(\"geometry.position.y\")) positionY *= scaleY;\n\t\telse if(invertY) positionY = screenHeight - positionY;\n\t\tif(relative || relativeCoordinateList.includes(\"geometry.radius.x\")) radiusX *= scaleX;\n\t\telse if(invertW) radiusX = screenWidth - radiusX;\n\t\tif(relative || relativeCoordinateList.includes(\"geometry.radius.y\")) radiusY *= scaleY;\n\t\telse if(invertH) radiusY = screenHeight - radiusY;\n\n\t\treturn {\n\t\t\t...element.metadata.geometry,\n\t\t\tposition:\n\t\t\t{\n\t\t\t\tx: positionX,\n\t\t\t\ty: positionY\n\t\t\t},\n\t\t\tradius:\n\t\t\t{\n\t\t\t\tx: radiusX,\n\t\t\t\ty: radiusY\n\t\t\t}\n\t\t};\n\t}\n\telse if(element.metadata.geometry.type == \"rectangle\" || element.metadata.geometry.type == \"arrow\" ||\n\t\telement.metadata.geometry.type == \"triangle\" || element.metadata.geometry.type == \"hexagon\" ||\n\t\telement.metadata.geometry.type == \"speech_bubble_ellipse_left\" || element.metadata.geometry.type ==\n\t\t\"speech_bubble_rectangle_left\")\n\t{\n\t\tlet positionX = element.metadata.geometry.position.x;\n\t\tlet positionY = element.metadata.geometry.position.y;\n\t\tlet width = element.metadata.geometry.width;\n\t\tlet height = element.metadata.geometry.height;\n\n\t\tif(relative || relativeCoordinateList.includes(\"geometry.position.x\")) positionX *= scaleX;\n\t\telse if(invertX) positionX = screenWidth - positionX;\n\t\tif(relative || relativeCoordinateList.includes(\"geometry.position.y\")) positionY *= scaleY;\n\t\telse if(invertY) positionY = screenHeight - positionY;\n\t\tif(relative || relativeCoordinateList.includes(\"geometry.width\")) width *= scaleX;\n\t\telse if(invertW) width = screenWidth - width;\n\t\tif(relative || relativeCoordinateList.includes(\"geometry.height\")) height *= scaleY;\n\t\telse if(invertH) height = screenHeight - height;\n\n\t\treturn {\n\t\t\t...element.metadata.geometry,\n\t\t\tposition:\n\t\t\t{\n\t\t\t\tx: positionX,\n\t\t\t\ty: positionY\n\t\t\t},\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\telse if(element.metadata.geometry.type == \"floodfill\")\n\t{\n\t}\n\n\treturn null;\n};\n\nexport const recomputeCoordinates = (visionData, screenWidth, screenHeight) =>\n{\n\tif(!hasValidMetadata(visionData)) return visionData;\n\n\tconst width = visionData.metadata.width;\n\tconst height = visionData.metadata.height;\n\tif(width <= 0 || height <= 0) return visionData;\n\n\tconst scaleX = 1.0 / width * screenWidth;\n\tconst scaleY = 1.0 / height * screenHeight;\n\n\t// Handle media\n\tlet media = visionData.media;\n\tfor(let i = 0; i < visionData.media.length; ++i)\n\t{\n\t\tif(typeof media[i].width !== \"undefined\") media[i].width *= scaleX;\n\t\tif(typeof media[i].height !== \"undefined\") media[i].height *= scaleY;\n\t}\n\n\t// Handle overlays\n\tlet overlays = visionData.overlays;\n\tfor(let i = 0; i < visionData.overlays.length; ++i)\n\t{\n\t\tlet overlay = visionData.overlays[i];\n\t\tif(!hasValidMetadata(overlay)) continue;\n\n\t\tconst invertX = typeof overlay.metadata.invert !== \"undefined\" && (overlay.metadata.invert == \"x\" ||\n\t\t\toverlay.metadata.invert == \"xy\" || overlay.metadata.invert == \"yx\");\n\t\tconst invertY = typeof overlay.metadata.invert !== \"undefined\" && (overlay.metadata.invert == \"y\" ||\n\t\t\toverlay.metadata.invert == \"xy\" || overlay.metadata.invert == \"yx\");\n\t\tconst invertW = typeof overlay.metadata.invertSize !== \"undefined\" && (overlay.metadata.invertSize == \"w\" ||\n\t\t\toverlay.metadata.invertSize == \"wh\" || overlay.metadata.invertSize == \"hw\");\n\t\tconst invertH = typeof overlay.metadata.invertSize !== \"undefined\" && (overlay.metadata.invertSize == \"h\" ||\n\t\t\toverlay.metadata.invertSize == \"wh\" || overlay.metadata.invertSize == \"hw\");\n\t\tconst relative = typeof overlay.metadata.relativeCoordinateSystem !== \"undefined\";\n\t\tconst relativeCoordinateList = typeof overlay.metadata.mixedCoordinateSystem !== \"undefined\" ?\n\t\t\toverlay.metadata.mixedCoordinateSystem : [];\n\n\t\tconst geometry = recomputeGeometry(overlay, screenWidth, screenHeight, relative, relativeCoordinateList,\n\t\t\tscaleX, scaleY, invertX, invertY, invertW, invertH);\n\n\t\tif(hasValidSvg(overlay) && overlay.metadata.geometry.type == \"arrow\")\n\t\t{\n\t\t\tlet arrowBody = overlay.metadata.svg.arrowBody;\n\t\t\tlet arrowHeadLeft = overlay.metadata.svg.arrowHeadLeft;\n\t\t\tlet arrowHeadRight = overlay.metadata.svg.arrowHeadRight;\n\t\t\tlet strokeWidth = overlay.metadata.svg.strokeWidth;\n\n\t\t\tconst isArrowBodyX1Relative = relative || relativeCoordinateList.includes(\"svg.arrowBody.x1\");\n\t\t\tconst isArrowBodyY1Relative = relative || relativeCoordinateList.includes(\"svg.arrowBody.y1\");\n\t\t\tconst isArrowBodyX2Relative = relative || relativeCoordinateList.includes(\"svg.arrowBody.x2\");\n\t\t\tconst isArrowBodyY2Relative = relative || relativeCoordinateList.includes(\"svg.arrowBody.y2\");\n\n\t\t\tif(isArrowBodyX1Relative) arrowBody.x1 *= scaleX;\n//\t\t\telse if(invertX) arrowBody.x1 = screenWidth - arrowBody.x1;\n\t\t\tif(isArrowBodyY1Relative) arrowBody.y1 *= scaleY;\n//\t\t\telse if(invertY) arrowBody.y1 = screenHeight - arrowBody.y1;\n\t\t\tif(isArrowBodyX2Relative) arrowBody.x2 *= scaleX;\n//\t\t\telse if(invertX) arrowBody.x2 = screenWidth - arrowBody.x2;\n\t\t\tif(isArrowBodyY2Relative) arrowBody.y2 *= scaleY;\n//\t\t\telse if(invertY) arrowBody.y2 = screenHeight - arrowBody.y2;\n\n\t\t\tconst isArrowHeadLeftX1Relative = relative || relativeCoordinateList.includes(\"svg.arrowHeadLeft.x1\");\n\t\t\tconst isArrowHeadLeftY1Relative = relative || relativeCoordinateList.includes(\"svg.arrowHeadLeft.y1\");\n\t\t\tconst isArrowHeadLeftX2Relative = relative || relativeCoordinateList.includes(\"svg.arrowHeadLeft.x2\");\n\t\t\tconst isArrowHeadLeftY2Relative = relative || relativeCoordinateList.includes(\"svg.arrowHeadLeft.y2\");\n\n\t\t\tif(isArrowHeadLeftX1Relative) arrowHeadLeft.x1 *= scaleX;\n//\t\t\telse if(invertX) arrowHeadLeft.x1 = screenWidth - arrowHeadLeft.x1;\n\t\t\tif(isArrowHeadLeftY1Relative) arrowHeadLeft.y1 *= scaleY;\n//\t\t\telse if(invertY) arrowHeadLeft.y1 = screenHeight - arrowHeadLeft.y1;\n\t\t\tif(isArrowHeadLeftX2Relative) arrowHeadLeft.x2 *= scaleX;\n//\t\t\telse if(invertX) arrowHeadLeft.x2 = screenWidth - arrowHeadLeft.x2;\n\t\t\tif(isArrowHeadLeftY2Relative) arrowHeadLeft.y2 *= scaleY;\n//\t\t\telse if(invertY) arrowHeadLeft.y2 = screenHeight - arrowHeadLeft.y2;\n\n\t\t\tconst isArrowHeadRightX1Relative = relative || relativeCoordinateList.includes(\"svg.arrowHeadRight.x1\");\n\t\t\tconst isArrowHeadRightY1Relative = relative || relativeCoordinateList.includes(\"svg.arrowHeadRight.y1\");\n\t\t\tconst isArrowHeadRightX2Relative = relative || relativeCoordinateList.includes(\"svg.arrowHeadRight.x2\");\n\t\t\tconst isArrowHeadRightY2Relative = relative || relativeCoordinateList.includes(\"svg.arrowHeadRight.y2\");\n\n\t\t\tif(isArrowHeadRightX1Relative) arrowHeadRight.x1 *= scaleX;\n//\t\t\telse if(invertX) arrowHeadRight.x1 = screenWidth - arrowHeadRight.x1;\n\t\t\tif(isArrowHeadRightY1Relative) arrowHeadRight.y1 *= scaleY;\n//\t\t\telse if(invertY) arrowHeadRight.y1 = screenHeight - arrowHeadRight.y1;\n\t\t\tif(isArrowHeadRightX2Relative) arrowHeadRight.x2 *= scaleX;\n//\t\t\telse if(invertX) arrowHeadRight.x2 = screenWidth - arrowHeadRight.x2;\n\t\t\tif(isArrowHeadRightY2Relative) arrowHeadRight.y2 *= scaleY;\n//\t\t\telse if(invertY) arrowHeadRight.y2 = screenHeight - arrowHeadRight.y2;\n\n\t\t\tif(relative || relativeCoordinateList.includes(\"svg.strokeWidth\")) strokeWidth *= scaleX;\n\n\t\t\toverlay =\n\t\t\t{\n\t\t\t\t...overlay,\n\t\t\t\tmetadata:\n\t\t\t\t{\n\t\t\t\t\t...overlay.metadata,\n\t\t\t\t\tsvg:\n\t\t\t\t\t{\n\t\t\t\t\t\t...overlay.metadata.svg,\n\t\t\t\t\t\tarrowBody: arrowBody,\n\t\t\t\t\t\tarrowHeadLeft: arrowHeadLeft,\n\t\t\t\t\t\tarrowHeadRight: arrowHeadRight,\n\t\t\t\t\t\tstrokeWidth: strokeWidth\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Handle animation of the overlay\n\t\tif(hasValidAnimation(overlay))\n\t\t{\n\t\t\tconst animation = overlay.metadata.animation;\n\t\t\tlet newAnimation = animation;\n\t\t\tif(typeof animation.positions !== \"undefined\")\n\t\t\t{\n\t\t\t\tlet positions = animation.positions;\n\t\t\t\tfor(let j = 0; j < animation.positions.length; ++j)\n\t\t\t\t{\n\t\t\t\t\tconst isXRelative = relative || relativeCoordinateList.includes(\"animation.position.x\");\n\t\t\t\t\tconst isYRelative = relative || relativeCoordinateList.includes(\"animation.position.y\");\n\t\t\t\t\tlet animationPositionX = animation.positions[j].x;\n\t\t\t\t\tlet animationPositionY = animation.positions[j].y;\n\n\t\t\t\t\tif(isXRelative) animationPositionX *= scaleX;\n\t\t\t\t\telse if(invertX) animationPositionX = screenWidth - animationPositionX;\n\t\t\t\t\tif(isYRelative) animationPositionY *= scaleY;\n\t\t\t\t\telse if(invertY) animationPositionY = screenHeight - animationPositionY;\n\n\t\t\t\t\tpositions[j] =\n\t\t\t\t\t{\n\t\t\t\t\t\tx: animationPositionX,\n\t\t\t\t\t\ty: animationPositionY\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tnewAnimation =\n\t\t\t\t{\n\t\t\t\t\t...newAnimation,\n\t\t\t\t\tpositions: positions\n\t\t\t\t};\n\t\t\t}\n\n\t\t\toverlays[i] =\n\t\t\t{\n\t\t\t\t...overlay,\n\t\t\t\tmetadata:\n\t\t\t\t{\n\t\t\t\t\t...overlay.metadata,\n\t\t\t\t\tanimation: newAnimation,\n\t\t\t\t\tgeometry: geometry\n\t\t\t\t}\n\t\t\t};\n\t\t\tcontinue;\n\t\t}\n\n\t\t// NOTE: Using scale on X axis for best look possible. * FontSize renders differently on simulator and device\n\t\tif(hasValidText(overlay))\n\t\t{\n\t\t\tconst text = overlay.metadata.text;\n\t\t\tlet fontSize = text.fontSize;\n\t\t\tif(overlay.metadata.geometry.type == \"ellipse\")\n\t\t\t{\n\t\t\t\tif(relative || relativeCoordinateList.includes(\"geometry.radius.x\")) fontSize *= scaleX;\n\t\t\t}\n\t\t\telse if(overlay.metadata.geometry.type == \"rectangle\" || overlay.metadata.geometry.type == \"arrow\")\n\t\t\t{\n\t\t\t\tif(relative || relativeCoordinateList.includes(\"geometry.width\")) fontSize *= scaleX;\n\t\t\t}\n\t\t\telse if(overlay.metadata.geometry.type == \"floodfill\")\n\t\t\t{\n\t\t\t}\n\n\t\t\toverlays[i] =\n\t\t\t{\n\t\t\t\t...overlay,\n\t\t\t\tmetadata:\n\t\t\t\t{\n\t\t\t\t\t...overlay.metadata,\n\t\t\t\t\tgeometry: geometry,\n\t\t\t\t\ttext:\n\t\t\t\t\t{\n\t\t\t\t\t\t...text,\n\t\t\t\t\t\tfontSize: fontSize\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tcontinue;\n\t\t}\n\n\t\toverlays[i] =\n\t\t{\n\t\t\t...overlay,\n\t\t\tmetadata:\n\t\t\t{\n\t\t\t\t...overlay.metadata,\n\t\t\t\tgeometry: geometry\n\t\t\t}\n\t\t};\n\t}\n\n\t// Handle interactions\n\tlet interactions = visionData.interactions;\n\tfor(let i = 0; i < visionData.interactions.length; ++i)\n\t{\n\t\tconst interaction = visionData.interactions[i];\n\t\tif(!hasValidMetadata(interaction)) continue;\n\t\tif(!hasValidAction(interaction)) continue;\n\t\tif(!hasValidGeometry(interaction)) continue;\n\n\t\tconst invertX = typeof interaction.metadata.invert !== \"undefined\" && (interaction.metadata.invert == \"x\" ||\n\t\t\tinteraction.metadata.invert == \"xy\" || interaction.metadata.invert == \"yx\");\n\t\tconst invertY = typeof interaction.metadata.invert !== \"undefined\" && (interaction.metadata.invert == \"y\" ||\n\t\t\tinteraction.metadata.invert == \"xy\" || interaction.metadata.invert == \"yx\");\n\t\tconst invertW = typeof interaction.metadata.invertSize !== \"undefined\" &&\n\t\t\t(interaction.metadata.invertSize == \"w\" || interaction.metadata.invertSize == \"wh\" ||\n\t\t\tinteraction.metadata.invertSize == \"hw\");\n\t\tconst invertH = typeof interaction.metadata.invertSize !== \"undefined\" &&\n\t\t\t(interaction.metadata.invertSize == \"h\" || interaction.metadata.invertSize == \"wh\" ||\n\t\t\tinteraction.metadata.invertSize == \"hw\");\n\t\tconst relative = typeof interaction.metadata.relativeCoordinateSystem !== \"undefined\";\n\t\tconst relativeCoordinateList = typeof interaction.metadata.mixedCoordinateSystem !== \"undefined\" ?\n\t\t\tinteraction.metadata.mixedCoordinateSystem : [];\n\n\t\tconst geometry = recomputeGeometry(interaction, screenWidth, screenHeight, relative, relativeCoordinateList,\n\t\t\tscaleX, scaleY, invertX, invertY, invertW, invertH);\n\n\t\t// NOTE: Using scale on X axis for best look possible. * FontSize renders differently on simulator and device\n\t\tif(hasValidText(interaction))\n\t\t{\n\t\t\tconst text = interaction.metadata.text;\n\t\t\tlet fontSize = text.fontSize;\n\t\t\tif(interaction.metadata.geometry.type == \"ellipse\")\n\t\t\t{\n\t\t\t\tif(relative || relativeCoordinateList.includes(\"geometry.radius.x\")) fontSize *= scaleX;\n\t\t\t}\n\t\t\telse if(interaction.metadata.geometry.type == \"rectangle\" || interaction.metadata.geometry.type == \"arrow\"\n\t\t\t\t|| interaction.metadata.geometry.type == \"triangle\" || interaction.metadata.geometry.type == \"hexagon\"\n\t\t\t\t|| interaction.metadata.geometry.type == \"speech_bubble_ellipse_left\" ||\n\t\t\t\tinteraction.metadata.geometry.type == \"speech_bubble_rectangle_left\")\n\t\t\t{\n\t\t\t\tif(relative || relativeCoordinateList.includes(\"geometry.width\")) fontSize *= scaleX;\n\t\t\t}\n\t\t\telse if(interaction.metadata.geometry.type == \"floodfill\")\n\t\t\t{\n\t\t\t}\n\n\t\t\tinteractions[i] =\n\t\t\t{\n\t\t\t\t...interaction,\n\t\t\t\tmetadata:\n\t\t\t\t{\n\t\t\t\t\t...interaction.metadata,\n\t\t\t\t\tgeometry: geometry,\n\t\t\t\t\ttext:\n\t\t\t\t\t{\n\t\t\t\t\t\t...text,\n\t\t\t\t\t\tfontSize: fontSize\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tcontinue;\n\t\t}\n\n\t\tinteractions[i] =\n\t\t{\n\t\t\t...interaction,\n\t\t\tmetadata:\n\t\t\t{\n\t\t\t\t...interaction.metadata,\n\t\t\t\tgeometry: geometry\n\t\t\t}\n\t\t};\n\t}\n\n\t// Putting things together\n\tconst result =\n\t{\n\t\t...visionData,\n\t\tnodes: visionData.nodes,\n\t\tmedia: media,\n\t\toverlays: overlays,\n\t\tinteractions: interactions\n\t};\n\n\treturn result;\n};\n\nconst styles =\n{\n\tabsolutePositionContainer:\n\t{\n\t\tposition: \"absolute\"\n\t},\n\tsoundContainer:\n\t{\n\t\tposition: \"absolute\",\n\t\tleft: -25,\n\t\tbottom: -20\n\t},\n\tsoundLottie:\n\t{\n\t\tposition: \"absolute\",\n\t\twidth: 120,\n\t\theight: 120\n\t},\n\tsound:\n\t{\n\t\tposition: \"absolute\",\n\t\topacity: 0\n\t},\n\tsoundIconContainer:\n\t{\n\t\tposition: \"absolute\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\ttop: 45,\n\t\twidth: 120,\n\t\theight: 120\n\t},\n\tsoundIcon:\n\t{\n\t\tpadding: 2\n\t}\n};\n\n//const username = \"yujin513\";\n//let visionData = require(\"./220fd436-8610-4889-81ff-2be176d8c698.json\");\n//visionData = recomputeCoordinates(visionData, SCREEN_WIDTH, SCREEN_HEIGHT);\nconst DEFAULT_RESIZEMODE = \"cover\";\n\nclass Player extends React.Component\n{\n\tconstructor(props)\n\t{\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tindex: 0,\n\t\t\tmuted: false,\n\t\t\teffects_prefix: null\n\t\t};\n\t\tthis.stackIndex = [];\n\t}\n\n\tgotoNode(nodeIndex)\n\t{\n\t\tthis.stackIndex.push(this.state.index);\n\t\tthis.setState({index: nodeIndex});\n\t}\n\n\ttriggerEffects(effects_prefix)\n\t{\n\t\tthis.setState({effects_prefix: effects_prefix});\n\t\t// This is for code-splitting. However, this requires a new index.html, and need to replace every single file per post for S3 server.\n//\t\tif(this.state.effects_prefix == \"confetti\")\n//\t\t{\n//\t\t\timport(\"./confetti.json\").then(effects =>\n//\t\t\t{\n//\t\t\t\tthis.setState(\n//\t\t\t\t{\n//\t\t\t\t\teffects: effects,\n//\t\t\t\t\teffects_prefix : effects_prefix\n//\t\t\t\t});\n//\t\t\t});\n//\t\t}\n//\t\telse if(this.state.effects_prefix == \"exploding_confetti\")\n//\t\t{\n//\t\t\timport(\"./exploding_confetti.json\").then(effects =>\n//\t\t\t{\n//\t\t\t\tthis.setState(\n//\t\t\t\t{\n//\t\t\t\t\teffects: effects,\n//\t\t\t\t\teffects_prefix : effects_prefix\n//\t\t\t\t});\n//\t\t\t});\n//\t\t}\n\t}\n\n\thandleInteraction(interaction, nodeIndex)\n\t{\n\t\tif(!interaction.type.includes(\"hotspot\") && !interaction.type.includes(\"swipe\")) return;\n\t\tconst action = interaction.metadata.action;\n\t\tif(action.type == \"link\")\n\t\t{\n\t\t\tthis.gotoNode(nodeIndex);\n\t\t\treturn;\n\t\t}\n\t\telse if(action.type == \"effects\")\n\t\t{\n\t\t\tthis.triggerEffects(action.prefix);\n\t\t\treturn;\n\t\t}\n\t\telse if(action.type == \"url\")\n\t\t{\n\n\t\t}\n\t}\n\n\tonLottieAnimationEnd = () =>\n\t{\n\t\tthis.setState({effects_prefix: null});\n\t}\n\n\tonPressBack()\n\t{\n\t\tconst index = this.stackIndex.length == 0 ? 0 : this.stackIndex.pop();\n\t\tthis.setState({index: index});\n\t}\n\n\tonPressToggleMute()\n\t{\n\t\tthis.setState((state) =>\n\t\t{\n\t\t\treturn {\n\t\t\t\tmuted: !state.muted\n\t\t\t};\n\t\t});\n\t}\n\n\trenderIcon(type, name, color, size)\n\t{\n\t\treturn (\n\t\t\t<Icon font={type} name={name} color={color} size={size}/>\n\t\t);\n\t}\n\n\trenderText(text, alignment, color, fontFamily, fontSize)\n\t{\n\t\tif(fontSize == 0) fontSize = 15;\n\t\tcolor = color == \"\" ? \"black\" : color;\n\t\tlet style = {color: color, fontSize: fontSize * FONT_SIZE_MULTIPLIER};\n\t\tif(alignment) style = {...style, textAlign: alignment};\n\t\tif(fontFamily)\n\t\t{\n\t\t\tstyle = {...style, fontFamily: fontFamily};\n\t\t\treturn (\n\t\t\t\t<div style={style}>\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div style={style}>\n\t\t\t\t{text}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderOverlays(node)\n\t{\n\t\tif(typeof node.metadata.overlayIndices == \"undefined\") return null;\n\t\t\n\t\tconst overlays = node.metadata.overlayIndices.map((index, key) =>\n\t\t{\n\t\t\tconst overlay = this.props.visionData.overlays[index];\n\t\t\tlet x = overlay.metadata.geometry.position.x;\n\t\t\tlet y = overlay.metadata.geometry.position.y;\n\t\t\tconst width = overlay.metadata.geometry.width;\n\t\t\tconst height = overlay.metadata.geometry.height;\n\n\t\t\tconst hasIcon = hasValidIcon(overlay);\n\t\t\tconst hasText = hasValidText(overlay);\n\t\t\tconst hasSvg = hasValidSvg(overlay);\n\t\t\tconst hasView = hasValidView(overlay);\n\n\t\t\tconst hasOpacity = typeof overlay.metadata.opacity != \"undefined\";\n\t\t\tlet opacity = hasOpacity ? overlay.metadata.opacity : DEFAULT_OVERLAY_OPACITY;\n\t\t\tconst hasResizeMode = typeof overlay.metadata.resizeMode != \"undefined\";\n\t\t\tlet resizeMode = hasResizeMode ? overlay.metadata.resizeMode : DEFAULT_RESIZEMODE;\n\t\t\n\t\t\tif(hasValidMetadata(overlay) && hasValidGeometry(overlay) && overlay.metadata.geometry.type == \"ellipse\")\n\t\t\t{\n\t\t\t\tx = overlay.metadata.geometry.position.x - overlay.metadata.geometry.radius.x;\n\t\t\t\ty = overlay.metadata.geometry.position.y - overlay.metadata.geometry.radius.y;\n\t\t\t}\n\n\t\t\tif(hasValidMediaIndex(overlay))\n\t\t\t{\n\t\t\t\t// TODO: Assume that this is a picture... for now\n\t\t\t\tconst media = this.props.visionData.media[overlay.metadata.mediaIndex];\n\t\t\t\tconst uri = media.uri;\n\t\t\t\tif(!hasOpacity) opacity = typeof media.opacity == \"undefined\" ? DEFAULT_OVERLAY_OPACITY : media.opacity;\n\t\t\t\tif(!hasResizeMode) resizeMode = typeof media.resizeMode == \"undefined\" ? DEFAULT_RESIZEMODE : media.resizeMode;\n\n\t\t\t\t//if(resizeMode == \"cover\") {\n\t\t\t\t//\treturn (\n\t\t\t\t//\t\t<img key={key} src={uri} style={{...styles.absolutePositionContainer, left: x, top: y, width: width, height: height, opacity: opacity,\n\t\t\t\t//\t\t\tobjectFit: resizeMode}}/>\n\t\t\t\t//\t);\n\t\t\t\t//}\n\n\t\t\t\tresizeMode=\"contain\";\n\n\t\t\t\treturn (\n\t\t\t\t\t<img key={key} src={uri} style={{...styles.absolutePositionContainer, left: x, top: y, width: width, height: height, opacity: opacity,\n\t\t\t\t\t\tobjectFit: resizeMode}}/>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif(hasIcon)\n\t\t\t{\n\t\t\t\tconst icon = overlay.metadata.icon;\n\t\t\t\tconst iconSize = Math.min(overlay.metadata.width, overlay.metadata.height);\n\t\t\t\treturn (\n\t\t\t\t\t<div key={key} style={{...styles.absolutePositionContainer, ...overlay.metadata.style, left: x, top: y, width: width, height: height, display: \"flex\"}} opacity={opacity}>\n\t\t\t\t\t\t{this.renderIcon(icon.type, icon.name, icon.color, iconSize)}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif(hasText)\n\t\t\t{\n\t\t\t\tconst text = overlay.metadata.text;\n\t\t\t\tconst hasTextAlignment = typeof text.alignment !== \"undefined\";\n\t\t\t\tconst hasFontFamily = typeof text.fontFamily !== \"undefined\";\n\t\t\t\treturn (\n\t\t\t\t\t<div key={key} style={{...styles.absolutePositionContainer, ...overlay.metadata.style, left: x, top: y, width: width, height: height, display: \"flex\"}} opacity={opacity}>\n\t\t\t\t\t\t{this.renderText(text.text, hasTextAlignment ? text.alignment : null, text.color, hasFontFamily ? text.fontFamily : null, text.fontSize)}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\n\n\t\t\tif(hasView)\n\t\t\t{\n\t\t\t\tconst hasBackgroundColor = typeof overlay.metadata.style !== \"undefined\" &&\n\t\t\t\t\ttypeof overlay.metadata.style.backgroundColor !== \"undefined\";\n\t\t\t\tconst hasColor = typeof overlay.metadata.view.color !== \"undefined\";\n\t\t\t\tconst color = hasColor ? overlay.metadata.view.color : (hasBackgroundColor ?\n\t\t\t\t\toverlay.metadata.style.backgroundColor : null);\n\n\t\t\t\tif(overlay.metadata.geometry.type == \"ellipse\") // More like a capsule/round rectangle\n\t\t\t\t{\n\t\t\t\t\tconst radiusX = overlay.metadata.geometry.radius.x;\n\t\t\t\t\tconst radiusY = overlay.metadata.geometry.radius.y;\n\t\t\t\t\tconst borderRadius = Math.min(radiusX, radiusY);\n\t\t\t\t\tconst sizeX = radiusX * 2;\n\t\t\t\t\tconst sizeY = radiusY * 2;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={key} style={{...styles.absolutePositionContainer, ...overlay.metadata.style, left: x, top: y, width: sizeX, height: sizeY,\n\t\t\t\t\t\t\tbackgroundColor: color, borderRadius: borderRadius}} opacity={opacity}></div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div key={key} style={{...styles.absolutePositionContainer, ...overlay.metadata.style, left: x, top: y, width: width, height: height,\n\t\t\t\t\t\tbackgroundColor: color}} opacity={opacity}></div>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn null;\n\t\t});\n\n\t\treturn overlays;\n\t}\n\n\n\trenderHotspotIcon(icon, containerWidth, containerHeight)\n\t{\n\t\tlet iconSize = Math.min(containerWidth, containerHeight);\n\t\tif(typeof icon.scale !== \"undefined\") iconSize *= icon.scale;\n\t\tif(typeof icon.showContainer !== \"undefined\" && icon.showContainer == \"true\")\n\t\t{\n\t\t\t// NOTE: Being very lenient\n\t\t\tif(typeof icon.innerColor == \"undefined\")\n\t\t\t{\n\t\t\t\treturn (\n\t\t\t\t\t<div style={{alignItems: \"center\", justifyContent: \"center\", backgroundColor: HOTSPOT.CONTAINER_COLOR, borderRadius: HOTSPOT_RECTANGLE_BORDER_RADIUS,\n\t\t\t\t\t\twidth: containerWidth, height: containerHeight, display: \"flex\"}}>\n\t\t\t\t\t\t{this.renderIcon(icon.type, icon.name, HOTSPOT.INNER_COLOR, iconSize)}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<div style={{alignItems: \"center\", justifyContent: \"center\", backgroundColor: icon.color, borderRadius: HOTSPOT_RECTANGLE_BORDER_RADIUS,\n\t\t\t\t\twidth: containerWidth, height: containerHeight, display: \"flex\"}}>\n\t\t\t\t\t{this.renderIcon(icon.type, icon.name, icon.innerColor, iconSize)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div style={{alignItems: \"center\", justifyContent: \"center\", width: containerWidth, height: containerHeight, display: \"flex\"}}>\n\t\t\t\t{this.renderIcon(icon.type, icon.name, icon.color, iconSize)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderHotspotText(text)\n\t{\n\t\tconst textAlignment = typeof text.alignment !== \"undefined\" ? text.alignment : null;\n\t\tconst fontFamily = typeof text.fontFamily !== \"undefined\" ? text.fontFamily : null;\n\t\tif(typeof text.showContainer !== \"undefined\" && text.showContainer == \"true\")\n\t\t{\n\t\t\t// NOTE: Being very lenient\n\t\t\tif(typeof text.innerColor == \"undefined\")\n\t\t\t{\n\t\t\t\treturn (\n\t\t\t\t\t<div style={{alignItems: \"center\", backgroundColor: \"white\", borderRadius: HOTSPOT_RECTANGLE_BORDER_RADIUS, display: \"flex\", justifyContent: \"center\",\n\t\t\t\t\t\twidth: \"100%\", height: \"100%\"}}>\n\t\t\t\t\t\t{this.renderText(text.text, textAlignment, HOTSPOT.INNER_COLOR, fontFamily, text.fontSize)}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<div style={{alignItems: \"center\", backgroundColor: text.color, borderRadius: HOTSPOT_RECTANGLE_BORDER_RADIUS, display: \"flex\", justifyContent: \"center\",\n\t\t\t\t\twidth: \"100%\", height: \"100%\"}}>\n\t\t\t\t\t{this.renderText(text.text, textAlignment, text.innerColor, fontFamily, text.fontSize)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tif(typeof text.innerColor !== \"undefined\")\n\t\t{\n\t\t\treturn this.renderText(text.text, textAlignment, text.innerColor, fontFamily, text.fontSize);\n\t\t}\n\n\t\treturn this.renderText(text.text, textAlignment, text.color, fontFamily, text.fontSize);\n\t}\n\n\trenderHotspots()\n\t{\n\t\tconst node = this.props.visionData.nodes[this.state.index];\n\t\tconst hotspots = node.metadata.interactionIndices.map((item, index) =>\n\t\t{\n\t\t\tconst nodeIndex = node.nodeIndices[index];\n\t\t\tconst interaction = this.props.visionData.interactions[item];\n\n\t\t\tconst hasColor = typeof interaction.metadata.color !== \"undefined\";\n\t\t\tconst hasImage = hasValidMediaIndex(interaction);\n\t\t\tconst hasIcon = hasValidIcon(interaction);\n\t\t\tconst hasText = hasValidText(interaction);\n\t\t\n\t\t\tlet hotspotColor = hasColor ? interaction.metadata.color : \"white\";\n\t\t\tlet renderHotspot = !hasImage && !hasIcon && !hasText;\n\t\t\n\t\t\t//if(hasIcon && typeof interaction.metadata.icon.showContainer !== \"undefined\" && interaction.metadata.icon.showContainer == \"false\") renderHotspot = true;\n\t\t\t//if(hasText && typeof interaction.metadata.text.showContainer !== \"undefined\" && interaction.metadata.text.showContainer == \"false\") renderHotspot = true;\n\t\n\t\t\t// No buttonified containers\n\t\t\tif(hasIcon)\n\t\t\t{\n\t\t\t\tif(typeof interaction.metadata.icon.showContainer !== \"undefined\" &&\n\t\t\t\t\tinteraction.metadata.icon.showContainer == \"false\")\n\t\t\t\t{\n\t\t\t\t\trenderHotspot = true;\n\t\t\t\t\tif(typeof interaction.metadata.icon.color !== \"undefined\")\n\t\t\t\t\t\thotspotColor = interaction.metadata.icon.color;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(hasText)\n\t\t\t{\n\t\t\t\tif(typeof interaction.metadata.text.showContainer !== \"undefined\" &&\n\t\t\t\t\tinteraction.metadata.text.showContainer == \"false\")\n\t\t\t\t{\n\t\t\t\t\trenderHotspot = true;\n\t\t\t\t\tif(typeof interaction.metadata.text.color !== \"undefined\")\n\t\t\t\t\t\thotspotColor = interaction.metadata.text.color;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst opacity = typeof interaction.metadata.opacity !== \"undefined\" ? interaction.metadata.opacity : DEFAULT_HOTSPOT_OPACITY;\n\t\t\tconst innerOpacity = typeof interaction.metadata.innerOpacity !== \"undefined\" ? interaction.metadata.innerOpacity : DEFAULT_HOTSPOT_CONTENT_OPACITY;\n\t\t\tlet opacity1 = opacity;\n\t\t\tlet opacity2 = innerOpacity;\n\n\t\t\tlet svgStyles = {...styles.absolutePositionContainer};\n\t\t\tlet iconTextStyles = {...styles.absolutePositionContainer, ...interaction.metadata.style, display: \"flex\"};\n\n\t\t\tif(!interaction.metadata.geometry) return null;\n\t\t\t////////////////////////////////////////////////////\n\t\t\t// TODO: This is a temporary hack... figure out a better way to properly swipe things around using react-use-gesture / react-spring\n\t\t\tif(interaction.type.includes(\"swipe\"))\n\t\t\t{\n\t\t\t\tconst isLeftSwipe = interaction.type == \"swipe.left\";\n\t\t\t\tconst x = interaction.metadata.geometry.position.x + isLeftSwipe ? 0 : SCREEN_WIDTH / 2;\n\t\t\t\tconst y = interaction.metadata.geometry.position.y;\n\t\t\t\tconst width = interaction.metadata.geometry.width / 2;\n\t\t\t\tconst height = interaction.metadata.geometry.height;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div style={styles.absolutePositionContainer} key={index}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trenderHotspot &&\n\t\t\t\t\t\t\t\t<div style={{...svgStyles, backgroundColor: hotspotColor, borderRadius: 5, left: x, top: y, width: width, height: height, opacity: opacity1}}>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div style={{...iconTextStyles, left: x, top: y, width: width, height: height, opacity: opacity2}} onClick={() => this.handleInteraction(interaction, nodeIndex)}>\n\t\t\t\t\t\t\t{hasIcon && this.renderHotspotIcon({...interaction.metadata.icon, name: isLeftSwipe ? \"arrow-left-bold\" : \"arrow-right-bold\"}, width, height)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\t////////////////////////////////////////////////////\n\t\t\t\n\t\t\tif(interaction.metadata.geometry.type == \"ellipse\")\n\t\t\t{\n\t\t\t\tconst radiusX = interaction.metadata.geometry.radius.x;\n\t\t\t\tconst radiusY = interaction.metadata.geometry.radius.y;\n\t\t\t\tconst sizeX = radiusX * 2 + 1; // NOTE: Added this to avoid ellipsoid's bottom getting cut off\n\t\t\t\tconst sizeY = radiusY * 2 + 1; // NOTE: Added this to avoid ellipsoid's bottom getting cut off\n\t\t\t\tconst x = interaction.metadata.geometry.position.x - radiusX;\n\t\t\t\tconst y = interaction.metadata.geometry.position.y - radiusY;\n\t\t\t\treturn (\n\t\t\t\t\t<div style={styles.absolutePositionContainer} key={index}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trenderHotspot &&\n\t\t\t\t\t\t\t\t<div style={{position: \"absolute\", backgroundColor: hotspotColor, borderRadius: \"50%\", left: x, top: y, width: sizeX, height: sizeY,\n\t\t\t\t\t\t\t\t\topacity: opacity1}}>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div style={{...iconTextStyles, left: x, top: y, width: sizeX, height: sizeY, opacity: opacity2}}\n\t\t\t\t\t\t\tonClick={() => this.handleInteraction(interaction, nodeIndex)}>\n\t\t\t\t\t\t\t{hasImage && this.renderHotspotImage(interaction.metadata.mediaIndex)}\n\t\t\t\t\t\t\t{hasIcon && this.renderHotspotIcon(interaction.metadata.icon, sizeX, sizeY)}\n\t\t\t\t\t\t\t{hasText && this.renderHotspotText(interaction.metadata.text)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if(interaction.metadata.geometry.type == \"rectangle\")\n\t\t\t{\n\t\t\t\tconst x = interaction.metadata.geometry.position.x;\n\t\t\t\tconst y = interaction.metadata.geometry.position.y;\n\t\t\t\tconst width = interaction.metadata.geometry.width;\n\t\t\t\tconst height = interaction.metadata.geometry.height;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div style={styles.absolutePositionContainer} key={index}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trenderHotspot &&\n\t\t\t\t\t\t\t\t<div style={{...svgStyles, backgroundColor: hotspotColor, borderRadius: 5, left: x, top: y, width: width, height: height, opacity: opacity1}}>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div style={{...iconTextStyles, left: x, top: y, width: width, height: height, opacity: opacity2}} onClick={() => this.handleInteraction(interaction, nodeIndex)}>\n\t\t\t\t\t\t\t{hasImage && this.renderHotspotImage(interaction.metadata.mediaIndex)}\n\t\t\t\t\t\t\t{hasIcon && this.renderHotspotIcon(interaction.metadata.icon, width, height)}\n\t\t\t\t\t\t\t{hasText && this.renderHotspotText(interaction.metadata.text)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if(interaction.metadata.geometry.type == \"triangle\")\n\t\t\t{\n\t\t\t\tconst x = interaction.metadata.geometry.position.x;\n\t\t\t\tconst y = interaction.metadata.geometry.position.y;\n\t\t\t\tconst width = interaction.metadata.geometry.width;\n\t\t\t\tconst height = interaction.metadata.geometry.height;\n\t\t\t\tconst x1 = 0;\n\t\t\t\tconst y1 = 0;\n\t\t\t\tconst x2 = width / 2;\n\t\t\t\tconst y2 = height;\n\t\t\t\tconst x3 = width;\n\t\t\t\tconst y3 = 0;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div style={styles.absolutePositionContainer} key={index}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trenderHotspot &&\n\t\t\t\t\t\t\t\t<svg style={{...svgStyles, left: x, top: y, width: width, height: height, opacity: opacity1}} viewBox={\"0 0 \" + width + \" \" + height}>\n\t\t\t\t\t\t\t\t\t<polygon style={{x: 0, y: 0, width: width, height: height}} points={x1 + \",\" + y1 + \" \" + x2\n\t\t\t\t\t\t\t\t\t\t+ \",\" + y2 + \" \" + x3 + \",\" + y3} fill={hotspotColor}/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div style={{...iconTextStyles, left: x, top: y, width: width, height: height, opacity: opacity2}} onClick={() => this.handleInteraction(interaction, nodeIndex)}>\n\t\t\t\t\t\t\t{hasImage && this.renderHotspotImage(interaction.metadata.mediaIndex)}\n\t\t\t\t\t\t\t{hasIcon && this.renderHotspotIcon(interaction.metadata.icon, width, height)}\n\t\t\t\t\t\t\t{hasText && this.renderHotspotText(interaction.metadata.text)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if(interaction.metadata.geometry.type == \"hexagon\")\n\t\t\t{\n\t\t\t\tconst x = interaction.metadata.geometry.position.x;\n\t\t\t\tconst y = interaction.metadata.geometry.position.y;\n\t\t\t\tconst width = interaction.metadata.geometry.width;\n\t\t\t\tconst height = interaction.metadata.geometry.height;\n\t\t\t\tconst x1 = width * 0.5;\n\t\t\t\tconst y1 = height;\n\t\t\t\tconst x2 = width * (Math.sqrt(3) / 2);\n\t\t\t\tconst y2 = height * (3 / 4);\n\t\t\t\tconst x3 = width * (Math.sqrt(3) / 2);\n\t\t\t\tconst y3 = height * (1 / 4);\n\t\t\t\tconst x4 = width * 0.5;\n\t\t\t\tconst y4 = 0;\n\t\t\t\tconst x5 = width * ((2 - Math.sqrt(3)) / 2);\n\t\t\t\tconst y5 = height * (1 / 4);\n\t\t\t\tconst x6 = width * ((2 - Math.sqrt(3)) / 2);\n\t\t\t\tconst y6 = height * (3 / 4);\n\n\t\t\t\treturn (\n\t\t\t\t\t<div style={styles.absolutePositionContainer} key={index}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trenderHotspot &&\n\t\t\t\t\t\t\t\t<svg style={{...svgStyles, left: x, top: y, width: width, height: height, opacity: opacity1}} viewBox={\"0 0 \" + width + \" \" + height}>\n\t\t\t\t\t\t\t\t\t<polygon style={{x: 0, y: 0, width: width, height: height}} points={x1 + \",\" + y1 + \" \" + x2\n\t\t\t\t\t\t\t\t\t\t+ \",\" + y2 + \" \" + x3 + \",\" + y3 + \" \" + x4 + \",\" + y4 + \" \" + x5 + \",\" + y5 +\n\t\t\t\t\t\t\t\t\t\t\" \" + x6 + \",\" + y6} fill={hotspotColor}/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div style={{...iconTextStyles, left: x, top: y, width: width, height: height, opacity: opacity2}} onClick={() => this.handleInteraction(interaction, nodeIndex)}>\n\t\t\t\t\t\t\t{hasImage && this.renderHotspotImage(interaction.metadata.mediaIndex)}\n\t\t\t\t\t\t\t{hasIcon && this.renderHotspotIcon(interaction.metadata.icon, width, height)}\n\t\t\t\t\t\t\t{hasText && this.renderHotspotText(interaction.metadata.text)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if(interaction.metadata.geometry.type == \"speech_bubble_ellipse_left\")\n\t\t\t{\n\t\t\t\tconst x = interaction.metadata.geometry.position.x;\n\t\t\t\tconst y = interaction.metadata.geometry.position.y;\n\t\t\t\tconst width = interaction.metadata.geometry.width;\n\t\t\t\tconst height = interaction.metadata.geometry.height;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div style={styles.absolutePositionContainer} key={index}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trenderHotspot &&\n\t\t\t\t\t\t\t\t<svg style={{...svgStyles, left: x, top: y, width: width, height: height, opacity: opacity1}} viewBox={SVG_SHAPE.SPEECH_BUBBLE_ELLIPSE_LEFT.VIEWBOX}>\n\t\t\t\t\t\t\t\t\t<path d={SVG_SHAPE.SPEECH_BUBBLE_ELLIPSE_LEFT.D} fill={hotspotColor}/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div style={{...iconTextStyles, left: x, top: y, width: width, height: height, opacity: opacity2}} onClick={() => this.handleInteraction(interaction, nodeIndex)}>\n\t\t\t\t\t\t\t{hasImage && this.renderHotspotImage(interaction.metadata.mediaIndex)}\n\t\t\t\t\t\t\t{hasIcon && this.renderHotspotIcon(interaction.metadata.icon, width, height)}\n\t\t\t\t\t\t\t{hasText && this.renderHotspotText(interaction.metadata.text)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if(interaction.metadata.geometry.type == \"speech_bubble_rectangle_left\")\n\t\t\t{\n\t\t\t\tconst x = interaction.metadata.geometry.position.x;\n\t\t\t\tconst y = interaction.metadata.geometry.position.y;\n\t\t\t\tconst width = interaction.metadata.geometry.width;\n\t\t\t\tconst height = interaction.metadata.geometry.height;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div style={styles.absolutePositionContainer} key={index}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trenderHotspot &&\n\t\t\t\t\t\t\t\t<svg style={{...svgStyles, left: x, top: y, width: width, height: height, opacity: opacity1}} viewBox={SVG_SHAPE.SPEECH_BUBBLE_RECTANGLE_LEFT.VIEWBOX}>\n\t\t\t\t\t\t\t\t\t<path d={SVG_SHAPE.SPEECH_BUBBLE_RECTANGLE_LEFT.D} fill={hotspotColor}/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div style={{...iconTextStyles, left: x, top: y, width: width, height: height, opacity: opacity2}} onClick={() => this.handleInteraction(interaction, nodeIndex)}>\n\t\t\t\t\t\t\t{hasImage && this.renderHotspotImage(interaction.metadata.mediaIndex)}\n\t\t\t\t\t\t\t{hasIcon && this.renderHotspotIcon(interaction.metadata.icon, width, height)}\n\t\t\t\t\t\t\t{hasText && this.renderHotspotText(interaction.metadata.text)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\telse if(interaction.metadata.geometry.type == \"floodfill\")\n\t\t\t{\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div style={{position: \"absolute\", left: interaction.metadata.geometry.position.x, top: interaction.metadata.geometry.position.y}}\n\t\t\t\t\tonClick={() => this.handleInteraction(interaction, nodeIndex)} key={index.toString()}>\n\t\t\t\t\t<p>{item}</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t});\n\t\treturn hotspots;\n\t}\n\n\trenderSound(node)\n\t{\n\t\tif(typeof node.metadata.soundIndex == \"undefined\") return null;\n\t\tconst media = this.props.visionData.media[node.metadata.soundIndex];\n\t\tconst repeat = typeof media.repeat !== \"undefined\" && media.repeat == \"yes\";\n\t\tlet audio = null;\n\t\tif(this.state.muted)\n\t\t{\n\t\t\taudio = (\n\t\t\t\t<audio key={media.uri} style={styles.sound} width={1} height={1} autoPlay muted playsInline webkit-playsinline playsinline={\"true\"}>\n\t\t\t\t\t<source src={media.uri} type=\"audio/mpeg\"/>\n\t\t\t\t</audio>\n\t\t\t);\n\t\t}\n\t\telse\n\t\t{\n\t\t\taudio = (\n\t\t\t\t<audio key={media.uri} style={styles.sound} width={1} height={1} autoPlay playsInline webkit-playsinline playsinline={\"true\"}>\n\t\t\t\t\t<source src={media.uri} type=\"audio/mpeg\"/>\n\t\t\t\t</audio>\n\t\t\t);\n\t\t}\n\t\tconst options =\n\t\t{\n\t\t\tanimationData: require(\"./electric_guitar.json\"),\n\t\t\tautoPlay: true,\n\t\t\tloop: true,\n\t\t\trendererSettings: {}\n\t\t};\n\t\treturn (\n\t\t\t<div style={styles.soundContainer} onClick={() => this.onPressToggleMute()}>\n\t\t\t\t<Lottie options={options} style={styles.soundLottie}/>\n\t\t\t\t{audio}\n\t\t\t\t<div style={styles.soundIconContainer}>\n\t\t\t\t\t{this.state.muted && <Icon font=\"MaterialCommunityIcons\" name=\"cancel\" color=\"black\" size={30} style={styles.soundIcon}/>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trenderMedia(node)\n\t{\n\t\tconst mediaIndex = node.metadata.mediaIndex;\n\t\tconst media = this.props.visionData.media[mediaIndex];\n\t\tconst left = typeof media.left == \"undefined\" ? 0 : media.left;\n\t\tconst top = typeof media.top == \"undefined\" ? 0 : media.top;\n\t\tconst width = typeof media.width == \"undefined\" ? SCREEN_WIDTH : media.width;\n\t\tconst height = typeof media.height == \"undefined\" ? SCREEN_HEIGHT : media.height;\n\t\tconst resizeMode = typeof media.resizeMode == \"undefined\" ? DEFAULT_RESIZEMODE : media.resizeMode;\n\t\tif(media.type.includes(\"video\"))\n\t\t{\n\t\t\t/*\n\t\t\treturn (\n\t\t\t\t<iframe ref={(ref) => this.videoIframe = ref} key={media.uri} style={{...styles.absolutePositionContainer, backgroundColor: \"black\", left: left, top: top, width: width, height: height, objectFit: resizeMode}} src={media.uri} autoPlay playsInline webkit-playsinline playsinline={\"true\"} frameborder={\"0\"}/>\n\t\t\t);\n\t\t\t*/\n\t\t\treturn (\n\t\t\t\t<video id={\"video\"} ref={(ref) => this.video = ref} key={media.uri} style={{...styles.absolutePositionContainer, backgroundColor: \"black\", left: left, top: top, width: width, height: height,\n\t\t\t\t\tobjectFit: resizeMode}} autoPlay playsInline webkit-playsinline playsinline={\"true\"}>\n\t\t\t\t\t<source src={media.uri} type=\"video/mp4\"/>\n\t\t\t\t</video>\n\t\t\t);\n\t\t\t\n\t\t}\n\t\tif(media.type.includes(\"image\"))\n\t\t{\n\t\t\treturn (\n\t\t\t\t<img src={media.uri} style={{...styles.absolutePositionContainer, backgroundColor: \"black\", left: left, top: top, width: width, height: height,\n\t\t\t\t\tobjectFit: resizeMode}}/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div style={{...styles.absolutePositionContainer, backgroundColor: \"black\", left: left, top: top, width: width, height: height, objectFit: resizeMode}}>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender()\n\t{\n\t\tconst node = this.props.visionData.nodes[this.state.index];\n\t\t//let effects = null;\n\t\t//if(this.state.effects_prefix == \"confetti\") effects = require(\"./confetti.json\");\n\t\t//else if(this.state.effects_prefix == \"exploding_confetti\") effects = require(\"./exploding_confetti.json\");\n\t\t//const effects = this.state.effects;\n\t\tlet effects = null;\n\t\tlet effects_width = this.props.width;\n\t\tlet effects_height = this.props.height;\n\t\tif(this.state.effects_prefix == \"confetti\")\n\t\t{\n\t\t\teffects = require(\"./confetti.json\");\n\t\t\teffects_width *= 1;\n\t\t\teffects_height *= 1.2;\n\t\t}\n\t\telse if(this.state.effects_prefix == \"exploding_confetti\")\n\t\t{\n\t\t\teffects = require(\"./exploding_confetti.json\");\n\t\t\teffects_width *= 1;\n\t\t\teffects_height *= 1;\n\t\t}\n\t\telse if(this.state.effects_prefix == \"correct\")\n\t\t{\n\t\t\teffects = require(\"./correct.json\");\n\t\t\teffects_width *= 1;\n\t\t\teffects_height *= 1;\n\t\t}\n\t\telse if(this.state.effects_prefix == \"wrong\")\n\t\t{\n\t\t\teffects = require(\"./wrong.json\");\n\t\t\teffects_width *= 1;\n\t\t\teffects_height *= 1;\n\t\t}\n\t\telse if(this.state.effects_prefix == \"heart\")\n\t\t{\n\t\t\teffects = require(\"./heart.json\");\n\t\t\teffects_width *= 1;\n\t\t\teffects_height *= 1;\n\t\t}\n\t\telse if(this.state.effects_prefix == \"emoji_heart\")\n\t\t{\n\t\t\teffects = require(\"./emoji_heart.json\");\n\t\t\teffects_width *= 0.4;\n\t\t\teffects_height *= 0.4;\n\t\t}\n\t\telse if(this.state.effects_prefix == \"emoji_happy\")\n\t\t{\n\t\t\teffects = require(\"./emoji_happy.json\");\n\t\t\teffects_width *= 0.4;\n\t\t\teffects_height *= 0.4;\n\t\t}\n\t\telse if(this.state.effects_prefix == \"emoji_sad\")\n\t\t{\n\t\t\teffects = require(\"./emoji_sad.json\");\n\t\t\teffects_width *= 0.4;\n\t\t\teffects_height *= 0.4;\n\t\t}\n\t\telse if(this.state.effects_prefix == \"emoji_confused\")\n\t\t{\n\t\t\teffects = require(\"./emoji_confused.json\");\n\t\t\teffects_width *= 0.4;\n\t\t\teffects_height *= 0.4;\n\t\t}\n\t\telse if(this.state.effects_prefix == \"emoji_crying\")\n\t\t{\n\t\t\teffects = require(\"./emoji_crying.json\");\n\t\t\teffects_width *= 0.4;\n\t\t\teffects_height *= 0.4;\n\t\t}\n\t\tconst options =\n\t\t{\n\t\t\tanimationData: effects,\n\t\t\tautoPlay: true,\n\t\t\tloop: false,\n\t\t\trendererSettings: {}\n\t\t};\n\t\tconst eventListeners =\n\t\t[\n\t\t\t{\n\t\t\t\teventName: \"complete\",\n\t\t\t\tcallback: this.onLottieAnimationEnd\n\t\t\t}\n\t\t];\n\t\treturn (\n\t\t\t<div style={{...styles.absolutePositionContainer, width: SCREEN_WIDTH, height: SCREEN_WIDTH}}>\n\t\t\t\t{this.renderMedia(node)}\n\t\t\t\t{this.renderSound(node)}\n\t\t\t\t{this.renderOverlays(node)}\n\t\t\t\t{this.renderHotspots()}\n\t\t\t\t{\n\t\t\t\t\teffects &&\n\t\t\t\t\t\t<div style={{...styles.absolutePositionContainer, width: SCREEN_WIDTH, height: SCREEN_HEIGHT, alignItems: \"center\", justifyContent: \"center\"}}>\n\t\t\t\t\t\t\t<Lottie options={options} style={{width: effects_width, height: effects_height}} eventListeners={eventListeners}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.state.index != 0 &&\n\t\t\t\t\t\t<div style={{position: \"relative\", left: SCREEN_WIDTH - 50, display: \"flex\", flexDirection: \"row\", justifyContent: \"flex-end\", width: 50}}>\n\t\t\t\t\t\t\t<div style={{display: \"flex\"}} onClick={() => this.onPressBack()}>\n\t\t\t\t\t\t\t\t<Icon font=\"SimpleLineIcons\" name=\"arrow-left\" color=\"white\" size={25} style={{padding: 20}}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tremoveControls = () =>\n\t{\n\t\tlet iframes = document.getElementsByTagName(\"iframe\");\n\t\tfor(let i = 0; i < iframes.length; ++i)\n\t\t{\n\t\t\tconsole.log(iframes[i]);\n\t\t\tlet innerDocument = iframes[i].contentWindow || iframes[i].contentDocument;\n\t\t\tconsole.log(innerDocument);\n\t\t\tlet videos = iframes[i].contentWindow.document.getElementsByTagName(\"video\");\n\t\t\tfor(let i = 0; i < videos.length; ++i)\n\t\t\t{\n\t\t\t\tvideos[i].removeAttribute(\"controls\");\n\t\t\t}\n\t\t}\n\t};\n\n\tcomponentDidMount()\n\t{\n\t\t/*\n\t\tlet player = new playerjs.Player(this.videoIframe);\n\t\tplayer.on(\"ready\", () =>\n\t\t{\n\t\t\tplayer.play();\n\t\t});\n\t\t*/\n\t\tlet videos = document.getElementsByTagName(\"video\");\n\t\tfor(let i = 0; i < videos.length; ++i)\n\t\t{\n\t\t\tlet video = videos[i];\n\t\t\tconsole.log(video);\n\t\t\tvideo.load();\n\t\t\tlet adapter = playerjs.HTML5Adapter(video);\n\t\t\tadapter.ready();\n\t\t}\n\t}\n};\n\nfunction App()\n{\n\t//const rawVisionData = require(\"./220fd436-8610-4889-81ff-2be176d8c698.json\");\n\tconst rawVisionData = require(\"./bbf45490-5de1-4993-8fc5-f512ea0a1d0a.json\");\n\tconst username = \"yujin513\";\n\tconst visionData = recomputeCoordinates(rawVisionData, SCREEN_WIDTH, SCREEN_HEIGHT);\n\tconst topHeight = 108 * ((IS_MOBILE || IN_IFRAME) ? MOBILE_MULTIPLIER : 1);\n\tconst bottomHeight = 120 * ((IS_MOBILE || IN_IFRAME) ? MOBILE_MULTIPLIER : 1);\n\n\tconst coverWidth = (window.screen.width - SCREEN_WIDTH) / 2;\n\n//\t\t\t<div style={{backgroundColor: \"white\", position: \"absolute\", left: 0, top: topHeight, width: coverWidth, height: SCREEN_HEIGHT}}>\n//\t\t\t</div>\n//\t\t\t<div style={{backgroundColor: \"white\", position: \"absolute\", left: coverWidth + SCREEN_WIDTH, top: topHeight, width: coverWidth, height: SCREEN_HEIGHT}}>\n//\t\t\t</div>\n\treturn (\n\t\t<div className=\"App\" style={{display: \"flex\", flexDirection: \"column\", alignItems: \"center\", justifyContent: \"flex-start\",\n\t\t\twidth: \"100%\", height: topHeight + SCREEN_HEIGHT + bottomHeight, overflow: \"hidden\"}}>\n\t\t\t<div style={{paddingTop: topHeight, width: SCREEN_WIDTH, height: SCREEN_HEIGHT}}>\n\t\t\t\t<Player visionData={visionData} />\n\t\t\t</div>\n\t\t\t<div style={{backgroundColor: \"white\", position: \"absolute\", left: 0, top: 0, width: \"100%\", height: topHeight, display: \"flex\", justifyContent: \"center\"}}>\n\t\t\t\t<a href=\"http://www.glooviapp.com\">\n\t\t\t\t\t<img src=\"../../logo.png\" style={{height: topHeight}}/>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div style={{backgroundColor: \"white\", position: \"absolute\", left: 0, top: topHeight + SCREEN_HEIGHT, width: \"100%\", height: bottomHeight, display: \"flex\",\n\t\t\t\tflexDirection: \"column\", alignItems: \"center\"}}>\n\t\t\t\t<div style={{display: \"flex\", justifyContent: \"center\", width: SCREEN_WIDTH, paddingTop: SCREEN_WIDTH * 0.025, fontSize: 16 * ((IS_MOBILE || IN_IFRAME) ? MOBILE_MULTIPLIER : 1)}}>\n\t\t\t\t\tCreate your Gloovi with your friend {username}!\n\t\t\t\t</div>\n\t\t\t\t<div style={{display: \"flex\", justifyContent: \"space-between\", width: SCREEN_WIDTH}}>\n\t\t\t\t\t<a href=\"https://apps.apple.com/us/app/gloovi/id1474289496\">\n\t\t\t\t\t\t<img src=\"../../appstore.png\" style={{width: SCREEN_WIDTH * 0.45, padding: SCREEN_WIDTH * 0.025}}/>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href=\"https://play.google.com/store/apps/details?id=com.gloovi\">\n\t\t\t\t\t\t<img src=\"../../playstore.png\" style={{width: SCREEN_WIDTH * 0.45, padding: SCREEN_WIDTH * 0.025}}/>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nrequire('react-web-vector-icons/fonts');\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}